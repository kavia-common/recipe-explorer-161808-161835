{"is_source_file": true, "format": "Kotlin", "description": "This file defines the FavoritesStore class, which manages a set of favorite item IDs using Android's DataStore preferences. It provides functionality to observe the current favorites as a Flow and to toggle the inclusion of an item.", "external_files": ["android.content.Context", "androidx.datastore.preferences.core.Preferences", "androidx.datastore.preferences.core.edit", "androidx.datastore.preferences.core.stringSetPreferencesKey", "androidx.datastore.preferences.preferencesDataStore", "kotlinx.coroutines.flow.Flow", "kotlinx.coroutines.flow.map", "org.example.app.util.Keys"], "external_methods": ["preferencesDataStore(name: String): Lazy<PreferencesDataStore>", "Flow<Preferences>.map(transform: (Preferences) -> T): Flow<T>", "Preferences.get(key: Preferences.Key<Set<String>>): Set<String>?", "Preferences.set(key: Preferences.Key<Set<String>>, value: Set<String>)"], "published": ["FavoritesStore"], "classes": [{"name": "FavoritesStore", "description": "A class that manages a set of favorite item IDs using Android's DataStore. It exposes a Flow to observe current favorites and a suspend function to toggle favorite status."}], "methods": [{"name": "FavoritesStore", "description": "Constructor that initializes the FavoritesStore with a Context."}, {"name": "toggleFavorite", "description": "Toggles the presence of an item ID in the favorites set stored in DataStore."}], "calls": ["context.favDataStore.data", "prefs[KEY_FAVORITES]", "context.favDataStore.edit"], "search-terms": ["FavoritesStore", "DataStore favorites", "toggleFavorite", "preferencesDataStore Kotlin", "Favorite items management Kotlin"], "state": 2, "file_id": 19, "knowledge_revision": 166, "git_revision": "", "revision_history": [{"42": ""}, {"166": ""}], "hash": "d3fab04fc79895a12f7792e5403d203e", "format-version": 4, "code-base-name": "recipe_app_frontend", "filename": "recipe_app_frontend/app/src/main/kotlin/org/example/app/data/FavoritesStore.kt"}